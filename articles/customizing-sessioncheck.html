<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Customizing sessioncheck() behavior â€¢ sessioncheck</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Customizing sessioncheck() behavior">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sessioncheck</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/sessioncheck.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/why-check-the-r-session.html">Why is it important to check the R session?</a></li>
    <li><a class="dropdown-item" href="../articles/customizing-sessioncheck.html">Customizing sessioncheck() behavior</a></li>
    <li><a class="dropdown-item" href="../articles/individual-checks.html">Individual session check functions</a></li>
    <li><a class="dropdown-item" href="../articles/s3-classes.html">S3 classes and methods</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/djnavarro/sessioncheck/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Customizing sessioncheck() behavior</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/djnavarro/sessioncheck/blob/main/vignettes/articles/customizing-sessioncheck.Rmd" class="external-link"><code>vignettes/articles/customizing-sessioncheck.Rmd</code></a></small>
      <div class="d-none name"><code>customizing-sessioncheck.Rmd</code></div>
    </div>

    
    
<p>This article discusses how to customise the checks that are performed
when <code><a href="../reference/sessioncheck.html">sessioncheck()</a></code> is called. The easiest way to alter its
behavior is via the <code>action</code> argument, which specifies what
action should be taken if an issue is detected (allowed values:
<code>"warn"</code>, <code>"error"</code>, <code>"message"</code>,
<code>"none"</code>), and via the <code>checks</code> argument, which
specifies which checks should be performed. The default behaviour
corresponds to this:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioncheck</span><span class="fu">::</span><span class="fu"><a href="../reference/sessioncheck.html">sessioncheck</a></span><span class="op">(</span></span>
<span>  action <span class="op">=</span> <span class="st">"warn"</span>,</span>
<span>  checks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"globalenv_objects"</span>, </span>
<span>    <span class="st">"attached_packages"</span>, </span>
<span>    <span class="st">"attached_environments"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In this case, three checks are performed:</p>
<ul>
<li>
<code>"globalenv_objects"</code> indicates that
<code><a href="../reference/check_globalenv_objects.html">check_globalenv_objects()</a></code> should be used</li>
<li>
<code>"attached_packages"</code> indicates that
<code><a href="../reference/check_attached_packages.html">check_attached_packages()</a></code> should be used</li>
<li>
<code>"attached_environments"</code> indicates that
<code><a href="../reference/check_attached_environments.html">check_attached_environments()</a></code> should be used</li>
</ul>
<p>Several other options can be specified:</p>
<ul>
<li>
<code>"loaded_namespaces"</code> indicates that
<code><a href="../reference/check_loaded_namespaces.html">check_loaded_namespaces()</a></code> should be used</li>
<li>
<code>"sessiontime"</code> indicates that
<code><a href="../reference/check_sessiontime.html">check_sessiontime()</a></code> should be used</li>
<li>
<code>"required_options"</code> indicates that
<code><a href="../reference/check_required_options.html">check_required_options()</a></code> should be used</li>
<li>
<code>"required_locale"</code> indicates that
<code><a href="../reference/check_required_locale.html">check_required_locale()</a></code> should be used</li>
<li>
<code>"required_sysenv"</code> indicates that
<code><a href="../reference/check_required_sysenv.html">check_required_sysenv()</a></code> should be used</li>
</ul>
<p>For example, this checks the loaded namespaces only:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioncheck</span><span class="fu">::</span><span class="fu"><a href="../reference/sessioncheck.html">sessioncheck</a></span><span class="op">(</span></span>
<span>  action <span class="op">=</span> <span class="st">"warn"</span>,</span>
<span>  checks <span class="op">=</span> <span class="st">"loaded_namespaces"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Session check results:</span></span>
<span><span class="co">#&gt; - Loaded namespaces: digest, desc, R6, fastmap, and 19 more</span></span></code></pre></div>
<p>The individual checks can themselves be customized. Each check
function has one extra argument that is used to control its behavior,
and these can be passed to the check function via <code>...</code>. For
example, you can do this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioncheck</span><span class="fu">::</span><span class="fu"><a href="../reference/sessioncheck.html">sessioncheck</a></span><span class="op">(</span></span>
<span>  action <span class="op">=</span> <span class="st">"warn"</span>,</span>
<span>  checks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loaded_namespaces"</span>, <span class="st">"required_options"</span><span class="op">)</span>,</span>
<span>  allow_loaded_namespaces <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"knitr"</span>, <span class="st">"vctrs"</span>, <span class="st">"cli"</span><span class="op">)</span>,</span>
<span>  required_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">0L</span>, max.print <span class="op">=</span> <span class="fl">50L</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Session check results:</span></span>
<span><span class="co">#&gt; - Loaded namespaces: digest, desc, R6, fastmap, and 17 more</span></span>
<span><span class="co">#&gt; - Unexpected options: max.print</span></span></code></pre></div>
<p>The relevant arguments that can be passed via <code>...</code> are as
follows:</p>
<ul>
<li>
<code>allow_globalenv_objects</code> is passed to
<code><a href="../reference/check_globalenv_objects.html">check_globalenv_objects()</a></code>
</li>
<li>
<code>allow_attached_packages</code> is passed to
<code><a href="../reference/check_attached_packages.html">check_attached_packages()</a></code>
</li>
<li>
<code>allow_attached_environments</code> is passed to
<code><a href="../reference/check_attached_environments.html">check_attached_environments()</a></code>
</li>
<li>
<code>allow_loaded_namespaces</code> is passed to
<code><a href="../reference/check_loaded_namespaces.html">check_loaded_namespaces()</a></code>
</li>
<li>
<code>max_sessiontime</code> is passed to
<code><a href="../reference/check_sessiontime.html">check_sessiontime()</a></code>
</li>
<li>
<code>required_options</code> is passed to
<code><a href="../reference/check_required_options.html">check_required_options()</a></code>
</li>
<li>
<code>required_locale</code> is passed to
<code><a href="../reference/check_required_locale.html">check_required_locale()</a></code>
</li>
<li>
<code>required_sysenv</code> is passed to
<code><a href="../reference/check_required_sysenv.html">check_required_sysenv()</a></code>
</li>
</ul>
<p>To make life a little easier, the default values for all arguments
can be specified via <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>. For example, you could
include something like this in the <code>.Rprofile</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  sessioncheck <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    action <span class="op">=</span> <span class="st">"message"</span>,</span>
<span>    checks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loaded_namespaces"</span>, <span class="st">"required_options"</span><span class="op">)</span>,</span>
<span>    allow_loaded_namespaces <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"knitr"</span>, <span class="st">"vctrs"</span>, <span class="st">"cli"</span><span class="op">)</span>,</span>
<span>    required_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">0L</span>, max.print <span class="op">=</span> <span class="fl">50L</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>When called, <code><a href="../reference/sessioncheck.html">sessioncheck()</a></code> will now use these
values:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioncheck</span><span class="fu">::</span><span class="fu"><a href="../reference/sessioncheck.html">sessioncheck</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Session check results:</span></span>
<span><span class="co">#&gt; - Loaded namespaces: digest, desc, R6, fastmap, and 17 more</span></span>
<span><span class="co">#&gt; - Unexpected options: max.print</span></span></code></pre></div>
<p>For more information on the specifics of each check, please see the
documentation of the relevant check function or the article on <a href="https://sessioncheck.djnavarro.net/articles/individual-checks.html">individual
checks</a>.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Danielle Navarro.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
